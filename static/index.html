<!doctype html>
<html lang="en">
<meta charset="UTF-8">
<title>Httpbun</title>

<style>

body {
	margin: 0 auto;
	font: 16px monospace;
	max-width: 960px;
	color: #333;
}

dt {
	font-weight: bold;
	font-size: 1.1rem;
	padding: .5rem 0;
}

dd + dt {
	margin-top: 2rem;
}

dt .var {
	color: #272;
	background-image: linear-gradient(to top, #DFE, transparent);
}

code {
	background-color: #eee;
	padding: 1px 3px;
	border-radius: 1px;
}

footer {
	margin: 3rem 0 1rem;
	padding: 1rem 0 0;
	border-top: 1px solid #ddd;
	text-align: center;
}

</style>

<h1>Httpbun</h1>

<p>A reimplementation of the good old <a href='http://httpbin.org' target=_blank>httpbin</a>. The project is very much a
work-in-progress and should be considered alpha. Canonical version available at
<a href='http://httpbun.com'>httpbun.com</a>, mirrored at <a href='http://httpbun.org'>httpbun.org</a>.</p>

<p>
<a href='https://github.com/sharat87/httpbun' target=_blank>Source Code on GitHub</a>.
</p>

<p>
The following URL specifications are regular expressions, that the path is support to match <i>entirely</i>.
</p>

<dl>

<dt id=get>/get</dt>
<dd>Accepts GET requests and responds with a JSON object with query params, headers and a few other information about
	the request.</dd>

<dt id=post>/post</dt>
<dd>Accepts POST requests and responds with a JSON object with form body, query params, headers and a few other
	information about the request. There's also <code>/put</code>, <code>/patch</code> and <code>/delete</code>
	endpoints that behave similarly.</dd>

<dt id=headers>/headers</dt>
<dd>Responds with a JSON object with a single field, <code>headers</code> which is an object of all the headers in the
	request, as keys and values. If a header repeats in the request, then its values are concatenated with a comma and
	treated as a single header value.</dd>

<dt id=basic-auth>/basic-auth/<span class=var>{username}</span>/<span class=var>{password}</span></dt>
<dd>Requires basic authentication with <code>username</code> and <code>password</code> as the credentials.</dd>

<dt id=bearer>/bearer</dt>
<dd>Requires bearer authentication. Which needs an <code>Authorization</code> header in the request, that takes the form
	<code>Bearer some-auth-token-here</code>. This endpoint accepts any token as valid.</dd>

<dt id=digest-auth>/digest-auth/<span class=var>{qop}</span>/<span class=var>{username}</span>/<span class=var>{password}</span></dt>
<dd>Digest authentication. The endpoint <code>/digest-auth/auth/scott/tiger</code> requires to be authenticated with the
	credentials <code>scott</code> and <code>tiger</code> as username and password. The implementation is based on
	<a href='https://en.wikipedia.org/wiki/Digest_access_authentication#Example_with_explanation' rel=_blank>this
		example from Wikipedia</a>. The value of <code>qop</code> is usually <code>auth</code>.</dd>

<dt id=status>/status/<span class=var>{codes}</span></dt>
<dd>Responds with the HTTP status as given by <code>codes</code>. It can be a comma-separated list of multiple status
	codes, of which a random one is chosen for the response.</dd>

<dt id=ip>/ip</dt>
<dd>Responds with a JSON object with a single field, <code>origin</code>, with the client's IP Address for value.</dd>

<dt id=user-agent>/user-agent</dt>
<dd>Responds with a JSON object with a single field, <code>user-agent</code>, with the client's user agent (as present
	in the <code>User-Agent</code> header) for value.</dd>

<dt id=cache>/cache</dt>
<dd>If the request contains an <code>If-Modified-Since</code> or <code>If-None-Match</code> header, returns a 304
	response. Otherwise, it behaves the same as <a href=#get><code>/get</code></a> for GET requests,
	<a href=#post><code>/post</code></a> for POST requests, etc.</dd>

<dt id=cache-aged>/cache/<span class=var>{age}</span></dt>
<dd>Sets a <code>Cache-Control</code> header for <code>age</code> seconds.</dd>

<dt id=etag>/etag/<span class=var>{etag}</span></dt>
<dd>Assumes the resource has the given etag and responds to
	<a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match' target=_blank>If-None-Match</a>
	and <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Match' target=_blank>If-Match</a> headers
	appropriately.</dd>

<dt id=response-headers>/response-headers</dt>
<dd></dd>

<dt id=deny>/deny</dt>
<dd></dd>

<dt id=html>/html</dt>
<dd></dd>

<dt id=json>/json</dt>
<dd></dd>

<dt id=robots>/robots.txt</dt>
<dd></dd>

<dt id=xml>/xml</dt>
<dd></dd>

<dt id=base64>/base64(/(?P&lt;encoded&gt;.*))?</dt>
<dd></dd>

<dt id=bytes>/bytes/(?P&lt;size&gt;\d&#43;)</dt>
<dd></dd>

<dt id=delay>/delay/(?P&lt;delay&gt;\d&#43;)</dt>
<dd></dd>

<dt id=drip>/drip</dt>
<dd></dd>

<dt id=links>/links/(?P&lt;count&gt;\d&#43;)(/(?P&lt;offset&gt;\d&#43;))?/?</dt>
<dd></dd>

<dt id=range>/range/(?P&lt;count&gt;\d&#43;)/?</dt>
<dd></dd>

<dt id=cookies>/cookies</dt>
<dd></dd>

<dt id=cookies-delete>/cookies/delete</dt>
<dd></dd>

<dt id=cookies-set>/cookies/set(/(?P&lt;name&gt;[^/]&#43;)/(?P&lt;value&gt;[^/]&#43;))?</dt>
<dd></dd>

<dt id=redirect-to>/redirect-to</dt>
<dd></dd>

<dt id=redirect>/(relative-)?redirect/(?P&lt;count&gt;\d&#43;)</dt>
<dd></dd>

<dt id=absolute-redirect>/absolute-redirect/(?P&lt;count&gt;\d&#43;)</dt>
<dd></dd>

<dt id=anything>/anything\b.*</dt>
<dd></dd>

</dl>

<footer>
	A project by <a href='https://sharats.me' target=_blank>Shri</a>. Heavily inspired by Kenneth Reitz's
	<a href='http://httpbin.org' target=_blank>Httpbin</a> project.
</footer>
